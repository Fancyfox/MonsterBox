{
  "code": "import EventManager from \"../script/Singleton/EventManager\";\r\nimport GameDefine, { EventName, GameState } from \"../script/Singleton/GameDefine\";\r\nimport { Configuration } from \"./Configuration\";\r\nimport { Constants } from \"./Constants\";\r\nexport class MiniGameManager {\r\n    constructor() {\r\n        this._level = 1;\r\n    }\r\n    static instance() {\r\n        if (!this._instance) {\r\n            this._instance = new MiniGameManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n    loadLevelFromCache() {\r\n        const levelTick = Configuration.instance().getConfigData(Constants.LevelTick);\r\n        if (levelTick) {\r\n            this._level = Number(JSON.parse(levelTick));\r\n        }\r\n    }\r\n    _saveLevelToCache() {\r\n        const data = JSON.stringify(this._level);\r\n        Configuration.instance().setConfigData(Constants.LevelTick, data);\r\n    }\r\n    nextLevel() {\r\n        this._level++;\r\n        this._saveLevelToCache();\r\n        EventManager.dispatchEvent(EventName.NEXT_LEVEL, this._level);\r\n    }\r\n    getSceneLevel() {\r\n        return this._level;\r\n    }\r\n    StartGame() {\r\n        GameDefine.gameState = GameState.Playing;\r\n        EventManager.dispatchEvent(EventName.MINI_GAME_START);\r\n    }\r\n    EndGame() {\r\n        GameDefine.gameState = GameState.End;\r\n        EventManager.dispatchEvent(EventName.MINI_GAME_END);\r\n    }\r\n    PauseGame() {\r\n        GameDefine.gameState = GameState.Pause;\r\n        EventManager.dispatchEvent(EventName.MINI_GAME_RELIFE);\r\n    }\r\n    ResumeGame() {\r\n        GameDefine.gameState = GameState.Playing;\r\n    }\r\n    DieGame() {\r\n        GameDefine.gameState = GameState.Die;\r\n        EventManager.dispatchEvent(EventName.MINI_GAME_DIE);\r\n    }\r\n}\r\nMiniGameManager._instance = null;\r\n",
  "references": [
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/script/Singleton/EventManager.ts",
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/script/Singleton/GameData.ts",
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/script/Singleton/GameDefine.ts",
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/Data/Configuration.ts",
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/Data/Constants.ts"
  ]
}
