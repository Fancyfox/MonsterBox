{
  "code": "import EventManager from \"../script/Singleton/EventManager\";\r\nimport { EventName } from \"../script/Singleton/GameDefine\";\r\nvar Handler = Laya.Handler;\r\nexport default class Entity extends Laya.Script3D {\r\n    onAwake() {\r\n        EventManager.register(EventName.SCENE_CLEAR, this.onClearScene, this);\r\n        this.transform = this.owner['transform'];\r\n    }\r\n    destroy() {\r\n        if (this.owner) {\r\n            this.owner.removeSelf();\r\n            this.owner.destroy();\r\n        }\r\n        if (!this.destroyed)\r\n            this.destroy();\r\n    }\r\n    onDestroy() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    onUpdate() {\r\n    }\r\n    smoothDestroy(aniDur = 1000) {\r\n        if (this.destroyed)\r\n            return;\r\n        this.owner.traverse(s => {\r\n            if (s instanceof Laya.MeshSprite3D) {\r\n                let m = s.meshRenderer.material;\r\n                m.renderMode = 2;\r\n                Laya.Tween.to(m, { albedoColorA: 0 }, aniDur, Laya.Ease.linearNone, Handler.create(null, () => {\r\n                    this.destroy();\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    smoothBlack(aniDur = 500, destroyFinish = true) {\r\n        if (this.destroyed)\r\n            return;\r\n        this.owner.traverse(s => {\r\n            if (s instanceof Laya.MeshSprite3D) {\r\n                let m = s.meshRenderer.material;\r\n                m.renderMode = 2;\r\n                Laya.Tween.to(m, { _ColorR: 0, _ColorG: 0, _ColorB: 0 }, aniDur, Laya.Ease.linearNone, Handler.create(null, () => {\r\n                    destroyFinish && this.destroy();\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    smoothBlackSkinned(aniDur = 500, destroyFinish = true) {\r\n        if (this.destroyed)\r\n            return;\r\n        this.owner.traverse(s => {\r\n            if (s instanceof Laya.SkinnedMeshSprite3D) {\r\n                let m = s.skinnedMeshRenderer.material;\r\n                m.renderMode = 2;\r\n                Laya.Tween.to(m, { _ColorR: 0, _ColorG: 0, _ColorB: 0 }, aniDur, Laya.Ease.linearNone, Handler.create(null, () => {\r\n                    destroyFinish && this.destroy();\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    onClearScene() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n}\r\n",
  "references": [
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/script/Singleton/EventManager.ts",
    "D:/WorkSpace/Laya2.6.1/MonsterBox/src/script/Singleton/GameDefine.ts"
  ]
}
